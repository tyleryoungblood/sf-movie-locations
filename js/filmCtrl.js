app.controller("FilmCtrl",["$scope","$http","DataService",function(a,o,e){e.getData().then(function(o){var e=a.films=o;console.log(e);var r=new google.maps.Map(document.getElementById("map_canvas"),{zoom:12,center:new google.maps.LatLng(37.7749,-122.4194),mapTypeId:google.maps.MapTypeId.ROADMAP}),s=new google.maps.InfoWindow,n=new google.maps.Geocoder,c=[];function t(l){n.geocode({address:l.locations},function(o,e){var n,t,a;e==google.maps.GeocoderStatus.OK?(n=o[0].geometry.location,t="<h1>"+l.title+"</h1><br><b>Location:</b> "+l.locations+"<br><b>Director:</b> "+l.director,a=new google.maps.Marker({position:n,map:r}),c.push(a),google.maps.event.addListener(a,"mouseover",function(){s.setContent(t),s.open(r,a)}),google.maps.event.addListener(a,"mouseout",function(){s.close()})):console.log("An error occurred: "+e)})}a.updateMap=function(o){for(function(){for(var o=0;o<c.length;o++)c[o].setMap(null);c=[]}(),console.log("inside updateMap()"),console.log(o),i=0;i<e.length;i++)e[i].title===o&&t(e[i])}})}]);